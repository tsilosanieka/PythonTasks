#Authentication Refactor

The goal of this task was to replace the manually written `login_view` and `logout_view` functions with Django's built-in, secure and powerful class-based views (`auth_views`).

Although the visual output (the result) has not changed, the project "behind the scenes" has become more secure, standard and requires less code.

##Using Built-in Login/Logout Views

The login and logout logic was removed from the `users/views.py` file and handled entirely in `urls.py`.

### `users/urls.py` (Updated)

Here, the `path`s point directly to Django's `auth_views`. The `template_name='login.html'` tells `LoginView` to use our existing template.

```python
from django.urls import path
from django.contrib.auth import views as auth_views
from . import views 

urlpatterns = [
    path('', views.home_view, name='home'),
    path('register/', views.register_view, name='register'),
    
    path('login/', 
         auth_views.LoginView.as_view(template_name='login.html'), 
         name='login'),
    
    path('logout/', auth_views.LogoutView.as_view(), name='logout'),
]
```

### `PythonTasksDjango2/settings.py` (Added Parameters)

To ensure the built-in `auth_views` know where to redirect the user, these parameters were added to the bottom of the `settings.py` file:

```python
# In settings.py (at the bottom)

LOGIN_REDIRECT_URL = 'home'
LOGOUT_REDIRECT_URL = 'home'
```

### `users/views.py` (Cleaned Up)

After deleting the `login_view` and `logout_view` functions, the `views.py` file became much smaller and cleaner. Only the logic for registration and the home page remains.

```python
from django.shortcuts import render, redirect
from django.contrib.auth import login
from .forms import CustomUserCreationForm

def register_view(request):
    if request.method == 'POST':
        form = CustomUserCreationForm(request.POST)
        if form.is_valid():
            user = form.save()
            login(request, user)
            return redirect('home')
    else:
        form = CustomFUserCreationForm()
    return render(request, 'register.html', {'form': form})

def home_view(request):
    return render(request, 'home.html')
```

##Password Reset Token Class

This class prepares the foundation for a future "forgot password" feature.

### `users/utils.py`

A new `utils.py` file was created in the `users` app to define a custom token generator.

```python
from django.contrib.auth.tokens import PasswordResetTokenGenerator

class MyPasswordResetTokenGenerator(PasswordResetTokenGenerator):
    pass
```

## Result

The authentication system works just as it did before, but it is now managed by Django's standard and secure components, which reduces code and increases reliability.
